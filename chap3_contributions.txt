# Mes contributions

Après avoir présenté en détail la base Norine et les outils qui gravittent autour, je vais ici vous décrire les différentes améliorations auxquelles j'ai participé.
Il est à noter que certaines des contributions que je vais citer ici sont des applications s2m que nous n'avions pas initialement prévues.
TODO : Modifier pour la sortie des Norine Days du la partie erreurs
Le profil de ces contributions s'est dessiné au fur et à mesure des utilisations de s2m sur des données.
En testant s2m, nous nous sommes apperçu d'erreurs présentes dans les données annotées manuellement.
C'est ainsi que nous nous sommes rendu compte du potentiel de correction que représente ce logiciel.
La première partie de cette section sera composée des deux applications de s2m en temps qu'outil de correction et de prédiction d'erreurs au sein de Norine.
Ensuite, nous reviendrons sur les applications initiales de s2m~: la création de nouvelles annotations monomériques.
Nous parlerons de complétion de données existantes ainsi que de récupération de nouvelles par des méthodes semi-automatiques et automatiques, le tout supervisé par s2m.


## Introduction aux Norine days

La mise en ligne de l'outil MyNorine ainsi que l'arrivée massive de résultats de s2m nous a poussé à réguliérement réunir l'équipe de personnes travaillant autour de Norine.
Réguliérement, nous avons effectué des ``Norine days'' pour analyser ces données et prendre des décisions sur l'avenir de Norine.
Durant ces journées nous analysons plusieurs types de données et je vais présenter ici notre façon de procéder.


### Validation de données externe

En 2015, l'équipe de Norine accompagnée de l'équipe de antiSMASH, ont organisé un workshop autour des outils d'analyse des NRPS et PKS.
Lors de cet événement, pour la première fois nous avons fait la promotion de MyNorine (tout juste mis en ligne) ce qui nous a permis de récolter quelques données externes.
Les Norine days ont été l'occasion de traiter tous ensemble ces données et de nous mettre d'accord sur un protocol d'acceptation des nouveaux peptides.

+ Ajout des dérivés


### Définition et concept des monomères


### Corrections d'erreurs


## Améliorations de l'existant

Norine est remplie de plus de 1200 annotations.
Toutes ces annotations ont été extraites une à une d'articles scientifiques puis entrées à la main dans la base.
Bien que le travail ait été réalisé avec beaucoup de rigeur, plusieurs erreurs se sont glissées en base.
Nous allons ici présenter comment nous les avons détectées, comment nous les corrigeons et comment nous avons amélioré l'environnement de Norine afin de les éviter à l'avenir.


### s2m pour corriger les erreurs

En exécutant s2m sur les données de Norine nous nous sommes apperçu qu'il existait des erreurs au sein de la base.
A partir de deux mesures de s2m (coverage et correctness), nous pouvons classifier les erreurs en deux catégories.

TODO : figure fengycine

#### Coverage 1.0 Correctness < 1.0
Dans ce cas, cela veut dire que s2m a obtenu une découpe monomérique couvrant tout le peptide mais que celle-ci diverge de l'existante.
Dans ce cas, l'annotation en base est soit équivalente soit erronée et il est alors nécessaire de vérifier à la main pour déduire la bonne annotation.
Prenons comme exemple la ``fengycin A nC16'' (voir figure TODO).
Avant mars 2016, la molécule était représentée en base comme possédant 3 acides glutamiques.
Après un rapide coup d'oeuil au schéma, il est possible de détecter que, comme nous le dit s2m, l'acide glutamique de gauche est en fait une glutamine (N à la place de O en bout de chaine latérale).

#### Coverage < 1.0
Dans ce cas, soit le peptide possède un monomère qui n'a pas été entré au sein de s2m, soit la structure atomique du peptide est fausse.
En effet, il est très rapide d'utiliser un SMILES qui paraît être le bon mais qui varie en réalité d'un ou deux atomes du SMILES voulu.
Prenons pour exemple la ``malformin C'' qui jusqu'en Aout 2015 possédait le SMILES d'un proche cousin dans Norine.


### s2m pour empêcher les erreurs

Comme nous avons pu le voir (TODO ref chap 2), Smiles2Monomers nous a permis de détecter des erreurs au sein des structures atomiques et monomériques présentes dans des bases de données telles que Norine.
Comment pouvons nous alors faire en sorte d'essayer d'éviter ces erreurs avant qu'elles ne soient introduites en base.
Le seul moyen est d'essayer de détecter automatiquement les annotations fausses lorsqu'elles sont entrées et de demander à l'utilisateur ce qu'il en pense.

TODO : Schéma avertissement.

Dans le cas de Norine, toute nouvelle entrée manuelle est effectuée via MyNorine.
Pour éviter l'introduction des erreurs, si le SMILES de la molécule à été entré, nous exécutons s2m en arrière plan.
Si l'annotation obtenue par s2m couvre entiérement le peptide mais que cette annotation diffère de l'annotation entrée manuellement, nous avertissons l'utilisateur et lui demandons de vérifier sa structure avant validation.
Cela nous a permis plusieurs fois durant les Norine days de nous rendre compte d'erreurs que nous étions en train de commettre et nous penssons donc que cela permettra d'en éviter de nombreuses autres

TODO : Schéma création automatique d'annotation.

Nous proposons également à l'utilisateur d'exécuter s2m avant d'entrer manuellement son annotation.
Si un SMILES est renseigné, alors s2m peut être déclenché pour obtenir une première annotation.
L'uilisateur peut ensuite la modifier si celle-ci n'est pas complétement exacte.
Par ce système nous incitons les contributeurs à ajouter le SMILES de leurs peptides (information trop peu présente dans Norine pour le moment) et nous évitons les erreurs d'innatention et fautes de frappe lors de la saisie utilisateur.

Pour résumer, s2m a permis à MyNorine d'augmenter encore la qualité des annotations entrées par l'évitement d'erreurs humaines.


## Mises à jour de Norine

En parcourant de nombreuses bases de connaissances biologiques et chimiques, nous avons mis à jour deux améliorations possible de la base Norine.
D'un côté, cette exploration nous pointé le vieillissement des données de Norine.
En effet, de nombreuses données présentes sur Norine ont des noms des références ou des taxonomies qui ont été changées depuis leur entrée en base.
Par exemple certains liens vers PubChem, censés contenir les détails moléculaires des NRP correspondant, pointent désormais vers des molécules différentes.
Suite aux mises à jour d'éléments de PubChem certains liens sont corrompus.

De l'autre côté nous voyons apparaître de nombreux NRP non présents dans Norine.
Certaines bases possèdent des molécules annotées NRP mais sans forcément avoir le découpage monomérique et les référeces d'articles les publiant.
Ces molécules nous intéressent beaucoup car elles peuvent venir compléter notre base de connaissance et aider aux développements d'outils d'apprentissage.

Dans cette section, nous allons parler des différents mises à jour que nous avons effectué sur la structure de la base et les modifications de données qui ont suivies pour effectuer les amélirations citées ci-dessus.



### Mise à jour des données de Norine

### Récupération massive de NRP

### Fouille en bases de données
